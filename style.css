:root{
  --bg:#0b0b0b;
  --panel:#111;
  --grid:#1a1a1a;
  --line:#2a2a2a;
  --red:#ff1a1a;
  --hit:#ff2d2d;
  --miss:#2b2b2b;
  --ship:#8a0000;
  --text:#f8f8f8;
  --accent:#ff3b3b;
  --glow:0 0 12px rgba(255,0,0,.7), 0 0 24px rgba(255,0,0,.35);
}

*{box-sizing:border-box;margin:0;padding:0}

html,body{
  height:100%;
  background:radial-gradient(circle at 20% 20%, rgba(255,0,0,0.08), transparent 25%),radial-gradient(circle at 80% 30%, rgba(255,0,0,0.12), transparent 30%),radial-gradient(circle at 50% 80%, rgba(255,0,0,0.08), transparent 25%),linear-gradient(160deg,#050505 0%,#0b0b0b 100%);
  background-attachment:fixed;
  background-repeat:no-repeat;
  background-size:cover;
  color:var(--text);
  font-family:"Black Ops One",system-ui,sans-serif;
  letter-spacing:.5px;
  overflow-x:hidden;
}

h1{
  margin:40px auto 20px;
  font-size:clamp(4rem,8vw,6rem);
  text-transform:uppercase;
  color:var(--accent);
  text-shadow:var(--glow);
  letter-spacing:4px;
  text-align:center;
  z-index:1;
  position:relative;
}

.falling-ships span {
  position: absolute;
  top: -10%;
  animation: fall linear forwards;
  will-change: transform, opacity;
}

.falling-ships .ship {
  color: rgba(255, 50, 50, 0.85);
  text-shadow: 0 0 12px red, 0 0 24px red, 0 0 48px red;
}

.falling-ships .missile {
  color: rgba(255, 230, 50, 0.9);
  text-shadow: 0 0 12px yellow, 0 0 24px orange, 0 0 48px red;
}

@keyframes fall {
  0%   { transform: translateY(-120vh) rotate(0deg); opacity: 0.9; }
  50%  { opacity: 1; }
  100% { transform: translateY(120vh) rotate(360deg); opacity: 0; }
}

.boards{
  margin:20px auto;
  display:flex;
  justify-content:center;
  gap:60px;
  z-index:1;
  position:relative;
  padding:0 12px;
}

.panel{
  background:linear-gradient(180deg,var(--panel),#0d0d0d);
  border:1px solid var(--line);
  border-radius:18px;
  padding:18px;
  box-shadow:0 8px 30px rgba(0,0,0,.4),inset 0 0 0 1px rgba(255,255,255,.02);
  display:flex;
  flex-direction:column;
  align-items:center;
}

h2{
  margin:0 0 14px;
  font-size:clamp(1.5rem,2.5vw,2rem);
  color:#fff;
  text-transform:uppercase;
  letter-spacing:2px;
  text-align:center;
}

.board{
  display:grid;
  grid-template-columns:repeat(10,60px);
  grid-template-rows:repeat(10,60px);
  gap:10px;
  padding:20px;
  background:linear-gradient(145deg,var(--grid),#0e0e0e);
  border-radius:12px;
  border:1px solid var(--line);
}

.cell{
  width:60px;
  height:60px;
  border-radius:6px;
  background:#0f0f10;
  border:1px solid #1e1e1e;
  cursor:pointer;
  transition:transform .08s ease,box-shadow .15s ease,background .2s ease,border-color .2s ease;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  color:transparent;
  user-select:none;
}

.cell:hover{
  transform:translateY(-1px);
  box-shadow:var(--glow);
  border-color:var(--red);
}

.cell.ship{
  background:linear-gradient(180deg,#1a0000,var(--ship));
  border-color:#2c0000;
  color:rgba(255,255,255,0.03);
}

.cell.hit{
  background:radial-gradient(circle at 30% 30%,#ff8080 0%,var(--hit) 35%,#7a0000 100%);
  border-color:#ff4d4d;
  animation:throb .6s ease-out;
  box-shadow:var(--glow);
  color:transparent;
}

.cell.miss{
  background:repeating-linear-gradient(45deg,var(--miss) 0 6px,#232323 6px 12px);
  border-color:#3a3a3a;
  opacity:.9;
  color:transparent;
}

@keyframes throb{
  0%{transform:scale(1);box-shadow:var(--glow)}
  60%{transform:scale(1.08);box-shadow:0 0 28px rgba(255,0,0,.75),0 0 60px rgba(255,0,0,.25)}
  100%{transform:scale(1)}
}

#result{
  margin:20px auto;
  max-width:900px;
  padding:20px;
  border-radius:16px;
  border:1px solid var(--line);
  background:linear-gradient(180deg,#1a0000,#000);
  color:var(--accent);
  font-size:2rem;
  text-align:center;
  text-transform:uppercase;
  letter-spacing:2px;
  text-shadow:var(--glow);
  opacity:0;
  transform:scale(0.8);
  transition:opacity .5s ease,transform .5s ease;
  z-index:2;
}

#result.show{
  opacity:1;
  transform:scale(1);
  animation:blast 1s ease forwards;
}

@keyframes blast{
  0%{text-shadow:0 0 10px red,0 0 20px red;transform:scale(1)}
  40%{text-shadow:0 0 40px red,0 0 80px red;transform:scale(1.4)}
  70%{text-shadow:0 0 60px red,0 0 120px red;transform:scale(0.9)}
  100%{text-shadow:var(--glow);transform:scale(1)}
}

#blast{
  position:fixed;
  top:0;left:0;right:0;bottom:0;
  pointer-events:none;
  overflow:hidden;
  z-index:1000;
}

.shockwave{
  position:absolute;
  top:50%;left:50%;
  width:0;height:0;
  border-radius:50%;
  border:4px solid rgba(255,80,80,0.9);
  transform:translate(-50%,-50%) scale(0);
  opacity:0;
}

.flash{
  position:absolute;
  top:0;left:0;right:0;bottom:0;
  background:white;
  opacity:0;
}

.particles{
  position:absolute;
  top:50%;left:50%;
  width:6px;height:6px;
  background:rgba(255,60,60,0.95);
  border-radius:50%;
  box-shadow:0 0 10px rgba(255,40,40,0.9),20px -10px rgba(255,100,60,0.8),-25px 15px rgba(255,80,40,0.8),10px 25px rgba(255,120,60,0.7),-15px -20px rgba(255,60,60,0.7),30px 5px rgba(255,90,60,0.7);
  opacity:0;
}

#blast.active .shockwave{animation:shockwaveAnim 1s ease-out forwards}
#blast.active .flash{animation:flashAnim .3s ease-out forwards}
#blast.active .particles{animation:particlesAnim .8s ease-out forwards}

@keyframes shockwaveAnim{
  0%{transform:translate(-50%,-50%) scale(0);opacity:1}
  100%{transform:translate(-50%,-50%) scale(8);opacity:0}
}
@keyframes flashAnim{0%{opacity:1}100%{opacity:0}}
@keyframes particlesAnim{0%{opacity:1;transform:translate(-50%,-50%) scale(1)}100%{opacity:0;transform:translate(-50%,-50%) scale(4)}}

@media(max-width:820px){
  .boards{flex-direction:column;gap:30px}
  .board{grid-template-columns:repeat(10,32px);grid-template-rows:repeat(10,32px);gap:5px;padding:12px}
  .cell{width:32px;height:32px;border-radius:6px}
  h1{font-size:3.2rem}
  #result{font-size:1.2rem;padding:12px}
  .falling-ships span{font-size:1.2rem}
}
